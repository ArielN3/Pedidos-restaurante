<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedidos - Restaurante Chin√™s Imperial</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    
</head>
<body>
    <div class="container">
      <header class="restaurant-header">
        <div class="logo-container">
            <img src="logo-schi.png" alt="Restaurante L√≥ng zhƒ´ w√®i" class="header-logo">
        </div>
        <h1>Èæô‰πãÂë≥</h1>
        <p>L√≥ng zhƒ´ w√®i ‚Ä¢ Aut√™ntica culin√°ria chinesa desde 1985</p>
    </header>
        <section>
            <h2>üçú Nosso Card√°pio Imperial</h2>
            <div class="cardapio-grid">
                <div class="cardapio-item">
                    <span>üçó Frango Xadrez</span>
                    <div class="preco">R$ 35,00</div>
                    <button class="adicionar-btn" onclick="adicionarCarrinho('Frango Xadrez', 35)">
                        <span>+</span> Adicionar
                    </button>
                </div>
                
                <div class="cardapio-item">
                    <span>üçú Yakissoba</span>
                    <div class="preco">R$ 40,00</div>
                    <button class="adicionar-btn" onclick="adicionarCarrinho('Yakissoba', 40)">
                        <span>+</span> Adicionar
                    </button>
                </div>
                
                <div class="cardapio-item">
                    <span>üåØ Rolinho Primavera</span>
                    <div class="preco">R$ 25,00</div>
                    <button class="adicionar-btn" onclick="adicionarCarrinho('Rolinho Primavera', 25)">
                        <span>+</span> Adicionar
                    </button>
                </div>
                
                <div class="cardapio-item">
                    <span>üç§ Camar√£o Empanado</span>
                    <div class="preco">R$ 45,00</div>
                    <button class="adicionar-btn" onclick="adicionarCarrinho('Camar√£o Empanado', 45)">
                        <span>+</span> Adicionar
                    </button>
                </div>
                
                <div class="cardapio-item">
                    <span>ü•ü Dim Sum</span>
                    <div class="preco">R$ 30,00</div>
                    <button class="adicionar-btn" onclick="adicionarCarrinho('Dim Sum', 30)">
                        <span>+</span> Adicionar
                    </button>
                </div>
                
                <div class="cardapio-item">
                    <span>üçö Arroz Frito Yangzhou</span>
                    <div class="preco">R$ 28,00</div>
                    <button class="adicionar-btn" onclick="adicionarCarrinho('Arroz Frito Yangzhou', 28)">
                        <span>+</span> Adicionar
                    </button>
                </div>
            </div>
        </section>
        
        <section class="carrinho-container">
            <h2>üõí Seu Pedido Imperial</h2>
            <ul id="lista-carrinho"></ul>
            <div id="total">Total: R$ 0,00</div>
            
            <div id="tempo-espera">
                ‚è±Ô∏è <strong>Tempo m√©dio de preparo:</strong> 30-40 minutos
            </div>
        </section>
        
        <section class="info-cliente">
            <h2>üìã Informa√ß√µes do Cliente</h2>
            
            <div class="form-group">
                <label for="nome">Nome Completo</label>
                <input type="text" id="nome" placeholder="Como devemos cham√°-lo?" required>
            </div>
            
            <div class="form-group">
                <label for="telefone">WhatsApp</label>
                <input type="tel" id="telefone" placeholder="(00) 00000-0000" required>
            </div>
            
            <div class="form-group">
                <label for="mesa">Mesa/Entrega</label>
                <input type="text" id="mesa" placeholder="N√∫mero da mesa ou endere√ßo" required>
            </div>
            
            <div class="form-group">
                <label for="observacoes">Observa√ß√µes</label>
                <textarea id="observacoes" placeholder="Alergias, modifica√ß√µes ou pedidos especiais"></textarea>
            </div>
            
            <button class="enviar-btn" onclick="enviarPedido()">
                üì§ Enviar Pedido via WhatsApp
            </button>
        </section>
        
        <div id="loading" class="hidden">
            <div class="spinner"></div>
            <p>Preparando seu pedido imperial...</p>
        </div>
    </div>

    <script>
        const carrinho = [];
        const numeroWhatsApp = '5561981227195'; // N√∫mero do restaurante

        function adicionarCarrinho(item, preco) {
            carrinho.push({ item, preco });
            atualizarCarrinho();
            mostrarNotificacao(`‚úîÔ∏è ${item} adicionado ao carrinho!`);
            
            // Efeito visual no item do card√°pio
            const buttons = document.querySelectorAll('.adicionar-btn');
            buttons.forEach(btn => {
                if (btn.textContent.includes(item)) {
                    btn.classList.add('destaque');
                    setTimeout(() => btn.classList.remove('destaque'), 2000);
                }
            });
        }

        function removerCarrinho(index) {
            const itemRemovido = carrinho[index].item;
            carrinho.splice(index, 1);
            atualizarCarrinho();
            mostrarNotificacao(`‚ùå ${itemRemovido} removido do carrinho`, 'erro');
        }

        function atualizarCarrinho() {
            const lista = document.getElementById('lista-carrinho');
            const total = document.getElementById('total');
            lista.innerHTML = '';
            
            if (carrinho.length === 0) {
                lista.innerHTML = '<li class="empty-cart">Seu carrinho est√° vazio</li>';
                total.textContent = 'Total: R$ 0,00';
                return;
            }
            
            let soma = 0;
            carrinho.forEach(({ item, preco }, i) => {
                const li = document.createElement('li');
                li.className = 'carrinho-item';
                li.innerHTML = `
                    <span>${item} - R$ ${preco.toFixed(2).replace('.', ',')}</span>
                    <button class="remover-btn" onclick="removerCarrinho(${i})">Remover</button>
                `;
                lista.appendChild(li);
                soma += preco;
            });
            
            total.textContent = `Total: R$ ${soma.toFixed(2).replace('.', ',')}`;
        }

        function mostrarNotificacao(mensagem, tipo = 'sucesso') {
            const notificacao = document.createElement('div');
            notificacao.className = `notificacao ${tipo === 'erro' ? 'erro' : ''}`;
            notificacao.innerHTML = `
                ${tipo === 'erro' ? '‚ùå' : '‚úîÔ∏è'} ${mensagem}
            `;
            
            document.body.appendChild(notificacao);
            
            setTimeout(() => {
                notificacao.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notificacao.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notificacao);
                }, 400);
            }, 3000);
        }

        function validarTelefone(telefone) {
            const numeroLimpo = telefone.replace(/\D/g, '');
            return numeroLimpo.length >= 10 && numeroLimpo.length <= 13;
        }

        function formatarTelefone(telefone) {
            const numeroLimpo = telefone.replace(/\D/g, '');
            if (numeroLimpo.length === 11) {
                return numeroLimpo.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
            }
            return telefone;
        }

        function enviarPedido() {
            const nome = document.getElementById('nome').value.trim();
            const telefone = document.getElementById('telefone').value.trim();
            const mesa = document.getElementById('mesa').value.trim();
            const observacoes = document.getElementById('observacoes').value.trim();

            // Valida√ß√µes
            if (!nome) {
                mostrarNotificacao('Por favor, informe seu nome completo.', 'erro');
                document.getElementById('nome').focus();
                return;
            }
            
            if (!telefone || !validarTelefone(telefone)) {
                mostrarNotificacao('Por favor, informe um WhatsApp v√°lido com DDD.', 'erro');
                document.getElementById('telefone').focus();
                return;
            }
            
            if (!mesa) {
                mostrarNotificacao('Por favor, informe a mesa ou "Entrega".', 'erro');
                document.getElementById('mesa').focus();
                return;
            }
            
            if (carrinho.length === 0) {
                mostrarNotificacao('Seu carrinho est√° vazio. Adicione itens!', 'erro');
                return;
            }

            // Mostrar loading
            document.getElementById('loading').style.display = 'block';
            document.querySelector('.enviar-btn').disabled = true;

            // Formatar mensagem
            let mensagem = `*üèÆ PEDIDO - RESTAURANTE CHIN√äS IMPERIAL üèÆ*\n\n` +
                `üë§ *Cliente:* ${nome}\n` +
                `üì± *WhatsApp:* ${formatarTelefone(telefone)}\n` +
                `üìç *Mesa/Entrega:* ${mesa}\n\n` +
                `üçΩÔ∏è *Itens do Pedido:*\n`;

            carrinho.forEach(({ item, preco }) => {
                mensagem += `‚úîÔ∏è ${item} - R$ ${preco.toFixed(2).replace('.', ',')}\n`;
            });

            const total = carrinho.reduce((s, i) => s + i.preco, 0);
            mensagem += `\nüí∞ *Total:* R$ ${total.toFixed(2).replace('.', ',')}\n\n` +
                        `‚è±Ô∏è *Tempo estimado:* 30-40 minutos\n`;
            
            if (observacoes) {
                mensagem += `üìù *Observa√ß√µes:*\n${observacoes}\n\n`;
            }
            
            mensagem += `üôè *Agradecemos pela prefer√™ncia!*\n` +
                       `üîî Seu pedido ser√° preparado em breve.`;

            // Codificar a mensagem para URL
            const mensagemCodificada = encodeURIComponent(mensagem);
            const url = `https://wa.me/${numeroWhatsApp}?text=${mensagemCodificada}`;

            // Abrir WhatsApp ap√≥s pequeno delay para mostrar o loading
            setTimeout(() => {
                window.open(url, '_blank');
                document.getElementById('loading').style.display = 'none';
                document.querySelector('.enviar-btn').disabled = false;
                
                // Limpar carrinho ap√≥s envio
                carrinho.length = 0;
                atualizarCarrinho();
                document.getElementById('nome').value = '';
                document.getElementById('telefone').value = '';
                document.getElementById('mesa').value = '';
                document.getElementById('observacoes').value = '';
                
                // Notifica√ß√£o de sucesso
                mostrarNotificacao('‚úÖ Pedido enviado com sucesso!');
            }, 1500);
        }

        // M√°scara para telefone
        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 11) value = value.substring(0, 11);
            
            if (value.length > 0) {
                value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
                if (value.length > 10) {
                    value = value.replace(/(\d)(\d{4})$/, '$1-$2');
                }
            }
            
            e.target.value = value;
        });

        // Inicializar carrinho vazio
        atualizarCarrinho();
    </script>
</body>
</html>
